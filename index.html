<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cole Chapman</title>

  <!-- Reuse the same stylesheet as Projects -->
  <link rel="stylesheet" href="projects.css?v=4" />
</head>
<script>
  // Tempe approximate coords
  const TEMPE = { lat: 33.4255, lon: -111.9400 };

  async function loadWeather() {
    const url =
      `https://api.open-meteo.com/v1/forecast` +
      `?latitude=${TEMPE.lat}&longitude=${TEMPE.lon}` +
      `&current=temperature_2m,apparent_temperature,wind_speed_10m` +
      `&temperature_unit=fahrenheit&wind_speed_unit=mph`;

    try {
      const r = await fetch(url);
      const data = await r.json();
      const c = data.current;

      const updated = new Date(c.time).toLocaleString(undefined, {
        year: "numeric", month: "short", day: "2-digit",
        hour: "2-digit", minute: "2-digit"
      });

      document.getElementById("wxBox").innerHTML =
        `<b>Tempe, AZ</b><br>` +
        `Temp: ${Math.round(c.temperature_2m)}°F<br>` +
        `Feels: ${Math.round(c.apparent_temperature)}°F<br>` +
        `Wind: ${Math.round(c.wind_speed_10m)} mph<br>` +
        `<span class="miniNote">Updated: ${updated}</span>`;
    } catch (e) {
      document.getElementById("wxBox").textContent =
        "Weather unavailable.";
      console.error(e);
    }
  }

  loadWeather();
  // refresh every 10 minutes
  setInterval(loadWeather, 10 * 60 * 1000);
</script>

<body>
  <!-- HEADER -->
  <div id="top">
    <div id="header">
      <div id="headerText">
        <div id="headerTitle">COLE CHAPMAN</div>
        <div id="headerSubtitle">Arizona State University</div>
      </div>
    </div>
  </div>

  <!-- MAIN LAYOUT -->
  <div id="wrap">
    <!-- LEFT NAV -->
    <div id="left">
      <ul class="menu">
        <li class="active"><a href="index.html">Home</a></li>
        <li><a href="about.html">About Me</a></li>
        <li><a href="links.html">Links</a></li>
        <li><a href="projects.html">Projects</a></li>
        <li><a href="Cole_Chapman_CV_web.pdf" target="_blank" rel="noopener">CV</a></li>
      </ul>

      <div class="spacer"></div>

      <div class="addressBox">
        <div class="addressTitle">Address</div>
        <div class="addressText">
          Arizona State University<br/>
          Tempe Campus<br/>
          1151 S Forest Ave<br/>
          Tempe, AZ 85281<br/>
        </div>
        <div class="addressLinks">
          <a href="https://www.asu.edu/about/locations-maps" target="_blank" rel="noopener">View Map</a><br/>
          <a href="https://www.asu.edu/about/locations-maps" target="_blank" rel="noopener">Directions</a>
        </div>
      </div>
    </div>

    <!-- CENTER CONTENT -->
    <div id="center">
      <div class="sectionTitle">Welcome</div>
      <div class="sectionText">
        Welcome to my personal page!
      </div>


      <div class="blockTitle">About this site</div>
      <div class="sectionText">
        This is a professional portfolio focused on applied mathematics, numerical methods,
        and data analysis. Project pages include datasets, source code, and short technical descriptions.
      </div>

      <div class="blockTitle">Weather (Tempe, AZ)</div>
<div class="miniBox" id="wxBox">
  Loading weather...
</div>

      <div class="footerSpace"></div>
    </div>

    <!-- RIGHT COLUMN (empty, for spacing like institute layouts) -->
    <div id="right"></div>
  </div>
</body>
</html>
