<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>cole chapman</title>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <!-- Include the OSRS Font CSS -->
    <link rel="stylesheet" href="os-font.css" />
</head>
<body>
    <div class="container">
        <nav>
            <ul class="side-buttons">
                <li><a href="#home">home</a></li>
                <li><a href="#about">about me</a></li>
                <li><a href="#links">links</a></li>
                <li><a href="#projects">projects</a></li>
                <li><a href="#CV">CV</a></li>
            </ul>
        </nav>
        <div class="main-content">
            <p class="osrs-header">flash2:wave2:welcome to the homepage of cole chapman!</p>
            <p>red:weather reports and forecasts for the seas around the British Isles:</p>
            <div id="shipping-forecast-container">
                <p id="shipping-forecast-placeholder">Loading shipping forecast...</p>
            </div>
        </div>
    </div>
    <!-- Fetch, insert content into the shipping forecast section, and adjust scrolling speed -->
    <script>
        fetch('data/shipping_forecast.txt')
    .then(response => response.text())
    .then(text => {
        // Adding markers and replacing newlines with spaces
        const formattedText = `Start -> ${text.replace(/\n+/g, ' ')} -> End`;
        document.getElementById('shipping-forecast-placeholder').innerText = formattedText;
    })
    .catch(error => console.error('Error fetching shipping forecast:', error));
    </script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const forecastPlaceholder = document.getElementById('shipping-forecast-placeholder');
        
        forecastPlaceholder.addEventListener('load', adjustScrollSpeed);

        function adjustScrollSpeed() {
            const contentWidth = forecastPlaceholder.offsetWidth;
            const containerWidth = document.getElementById('shipping-forecast-container').offsetWidth;
            // Assuming a base speed - you might need to adjust this
            const pixelsPerSecond = 100;
            const totalWidth = contentWidth + containerWidth;
            const duration = totalWidth / pixelsPerSecond;

            forecastPlaceholder.style.animationDuration = `${duration}s`;
        }

        fetch('data/shipping_forecast.txt')
            .then(response => response.text())
            .then(text => {
                // Adding markers and formatting text
                const formattedText = `Start -> ${text.replace(/\n+/g, ' ').replace(/\s+/g, ' ')} -> End`;
                forecastPlaceholder.innerText = formattedText;

                // Adjust scroll speed after text is set
                adjustScrollSpeed();
            })
            .catch(error => console.error('Error fetching shipping forecast:', error));
    });
</script>
    <!-- Include the OSRS Font JS and initialize the library -->
    <script src="os-font.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            OsFont.compile();
        });
    </script>
</body>
</html>

